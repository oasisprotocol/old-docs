<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ledger Support | Oasis Dev Docs</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/favicon.ico">
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-116576458-1"></script>
    <script>window.dataLayer = window.dataLayer || [];
       function gtag(){dataLayer.push(arguments);}
       gtag('js', new Date());
       gtag('config', 'UA-116576458-1');</script>
    <meta name="description" content="Oasis Developer Documentation">
    <link rel="preload" href="/assets/css/0.styles.55bffb81.css" as="style"><link rel="preload" href="/assets/js/app.5d5db95c.js" as="script"><link rel="preload" href="/assets/js/2.7de60783.js" as="script"><link rel="preload" href="/assets/js/18.faa328af.js" as="script"><link rel="prefetch" href="/assets/js/10.bb3ab4da.js"><link rel="prefetch" href="/assets/js/11.dccb799a.js"><link rel="prefetch" href="/assets/js/12.6baf92e8.js"><link rel="prefetch" href="/assets/js/13.72d66cc8.js"><link rel="prefetch" href="/assets/js/14.934d43c4.js"><link rel="prefetch" href="/assets/js/15.b264093f.js"><link rel="prefetch" href="/assets/js/16.87c8b241.js"><link rel="prefetch" href="/assets/js/17.2a147ad5.js"><link rel="prefetch" href="/assets/js/19.6bc79cec.js"><link rel="prefetch" href="/assets/js/20.f8433df6.js"><link rel="prefetch" href="/assets/js/21.b4c64b7f.js"><link rel="prefetch" href="/assets/js/22.291d6a42.js"><link rel="prefetch" href="/assets/js/23.4757b3e9.js"><link rel="prefetch" href="/assets/js/24.47b8d8a4.js"><link rel="prefetch" href="/assets/js/25.4c220889.js"><link rel="prefetch" href="/assets/js/26.4fdf571d.js"><link rel="prefetch" href="/assets/js/27.32083ea5.js"><link rel="prefetch" href="/assets/js/28.f87dd6ff.js"><link rel="prefetch" href="/assets/js/29.6c5cd505.js"><link rel="prefetch" href="/assets/js/3.2acfd6d3.js"><link rel="prefetch" href="/assets/js/30.7d8a5142.js"><link rel="prefetch" href="/assets/js/31.9c906a80.js"><link rel="prefetch" href="/assets/js/32.8d6e0ac6.js"><link rel="prefetch" href="/assets/js/33.cb261111.js"><link rel="prefetch" href="/assets/js/34.3fcfa22e.js"><link rel="prefetch" href="/assets/js/35.ca1682f0.js"><link rel="prefetch" href="/assets/js/36.f5a461d4.js"><link rel="prefetch" href="/assets/js/37.36eea93e.js"><link rel="prefetch" href="/assets/js/38.f737e464.js"><link rel="prefetch" href="/assets/js/39.88aa28d2.js"><link rel="prefetch" href="/assets/js/4.06c38ad3.js"><link rel="prefetch" href="/assets/js/40.29a783f7.js"><link rel="prefetch" href="/assets/js/41.5e4e4eea.js"><link rel="prefetch" href="/assets/js/42.67b4d57c.js"><link rel="prefetch" href="/assets/js/43.2dca9fb0.js"><link rel="prefetch" href="/assets/js/44.50e1d18e.js"><link rel="prefetch" href="/assets/js/5.146cff05.js"><link rel="prefetch" href="/assets/js/6.41718d46.js"><link rel="prefetch" href="/assets/js/7.8523fddf.js"><link rel="prefetch" href="/assets/js/8.312c4e46.js"><link rel="prefetch" href="/assets/js/9.6cf7524b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.55bffb81.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="Oasis Dev Docs" class="logo"> <span class="site-name can-hide">Oasis Dev Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://oasisprotocol.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://join.slack.com/t/oasiscommunity/shared_invite/enQtNjQ5MTA3NTgyOTkzLWIxNTg1ZWZmOTIwNmQ2MTg1YmU0MzgyMzk3OWM2ZWQ4NTQ0ZDJkNTBmMTdlM2JhODllYjg5YmJkODc2NzgwNTg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/oasisprotocol" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://oasisprotocol.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://join.slack.com/t/oasiscommunity/shared_invite/enQtNjQ5MTA3NTgyOTkzLWIxNTg1ZWZmOTIwNmQ2MTg1YmU0MzgyMzk3OWM2ZWQ4NTQ0ZDJkNTBmMTdlM2JhODllYjg5YmJkODc2NzgwNTg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/oasisprotocol" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/overview.html" class="sidebar-link">Overview</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Operator Docs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Wallet Support</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hsm/ledger.html" aria-current="page" class="active sidebar-link">Ledger</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hsm/ledger.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/hsm/ledger.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/hsm/ledger.html#identifying-the-ledger-device" class="sidebar-link">Identifying the Ledger device</a></li><li class="sidebar-sub-header"><a href="/hsm/ledger.html#exporting-the-public-key-to-entity" class="sidebar-link">Exporting the Public Key to Entity</a></li><li class="sidebar-sub-header"><a href="/hsm/ledger.html#generating-and-signing-transactions" class="sidebar-link">Generating and Signing Transactions</a></li></ul></li></ul></section></li><li><a href="https://github.com/oasisprotocol/oasis-core/blob/master/docs/index.md" target="_blank" rel="noopener noreferrer" class="sidebar-link">Oasis Core Developer Docs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>App Developer Docs</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ledger-support"><a href="#ledger-support" class="header-anchor">#</a> Ledger Support</h1> <p><a href="https://www.ledger.com/" target="_blank" rel="noopener noreferrer">Ledger<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is a popular hardware wallet that is supported on the Oasis Network.</p> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <p>Before following this guide, make sure you've followed the <a href="/operators/prerequisites.html">Operator Docs'
Prerequisites Guide</a> to install the <code>oasis-node</code> binary.</p> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>To use the Oasis Ledger App, install it via <a href="https://www.ledger.com/ledger-live/" target="_blank" rel="noopener noreferrer">Ledger Live<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>'s Manager.
You will have to set developer mode to <em>on</em> in order to find it.</p> <div class="custom-block warning"><p class="custom-block-title">NOTE</p> <p>The <a href="https://github.com/Zondax/ledger-oasis" target="_blank" rel="noopener noreferrer">Oasis Ledger App<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> will not be available for installation via Ledger Live's
Manager until after it has been approved by Ledger.</p></div> <p>Once installed, the application will use the generated mnemonic stored on the
Ledger device to generate a pair of private and public keys.</p> <h2 id="identifying-the-ledger-device"><a href="#identifying-the-ledger-device" class="header-anchor">#</a> Identifying the Ledger device</h2> <p>To identify your Ledger device for use with the oasis-node CLI, unlock your
device and make sure you have the Oasis Ledger App open.</p> <p>Run the following command to identify your device by the generated address:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>oasis-node signer ledger list_devices
</code></pre></div><p>If your device is properly connected, you should see an output similar to the
one below:</p> <div class="language-text extra-class"><pre class="language-text"><code>============ Device found
Oasis App Version : 302e31322e33
Oasis App Address : oasis19hpt4y2reqwyfqcd53asjchdqf468chr673y6jn07xjp36w32jlscf0me
</code></pre></div><p>From now on, use the <code>Oasis App Address</code> to identify the Ledger device you want
to use for signing.</p> <p>For convenience, set the <code>OASIS_APP_ADDRESS</code> environment value to its value.</p> <h2 id="exporting-the-public-key-to-entity"><a href="#exporting-the-public-key-to-entity" class="header-anchor">#</a> Exporting the Public Key to Entity</h2> <p>Before you can sign anything, you need to export the public key from the device
and use it to generate an entity. This will also be used later as another check
to ensure that you are signing a transaction with the correct key.</p> <p>Using the address you retrieved in the <a href="#identifying-the-ledger-device">previous section
</a>, run the following:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>oasis-node signer <span class="token builtin class-name">export</span> <span class="token punctuation">\</span>
  --signer.backend ledger <span class="token punctuation">\</span>
  --signer.dir /localhostdir/entity/ <span class="token punctuation">\</span>
  --signer.ledger.address <span class="token variable">$OASIS_APP_ADDRESS</span> <span class="token punctuation">\</span>
  --signer.ledger.index <span class="token number">1</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>You can omit the <code>--signer.ledger.address</code> flag and <code>oasis-node</code> will try to
connect to any available Ledger device.</p></div> <p>This will create an <code>entity.json</code> file in <code>/localhostdir/entity/</code> that contains
the public key generated on the device associated with
<code>--signer.ledger.address</code>, derived from a path with an account index of
<code>--signer.ledger.index</code>. The <code>--signer.backend ledger</code> flag is important here as
it specifies use of the Ledger backend.</p> <p>This command must be run anytime a new account index is to be used, with a
new <code>/localhostdir/entity/</code> provided.</p> <h2 id="generating-and-signing-transactions"><a href="#generating-and-signing-transactions" class="header-anchor">#</a> Generating and Signing Transactions</h2> <p>As described in the <a href="/operators/stake-management.html#generating-and-submitting-transactions">Operator Docs' Stake Management Guide</a>,
you need to set the appropriate <strong>base flags</strong> and <strong>signer flags</strong> for each
transaction you want to generate.</p> <p>For convenience, you can set the <code>TX_FLAGS</code> environment variable like below
(replacing Ledger device's address index appropriately):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">TX_FLAGS</span><span class="token operator">=</span><span class="token string">&quot;--genesis.file /localhostdir/genesis.json \
  --signer ledger \
  --signer.ledger.address <span class="token variable">$OASIS_APP_ADDRESS</span> \
  --signer.ledger.index 1 \
  --signer.dir /localhostdir/entity/&quot;</span>
</code></pre></div><p>Then, you can generate and sign a transaction, e.g. a transfer transaction,
by running:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>oasis-node stake account gen_transfer <span class="token punctuation">\</span>
  <span class="token variable">$TX_FLAGS</span> <span class="token punctuation">\</span>
  --stake.amount <span class="token operator">&lt;</span>AMOUNT-TO-TRANSFER<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --stake.transfer.destination <span class="token operator">&lt;</span>DESTINATION-ACCOUNT-ID<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
  --transaction.file tx_transfer.json <span class="token punctuation">\</span>
  --transaction.nonce <span class="token number">1</span> <span class="token punctuation">\</span>
  --transaction.fee.gas <span class="token number">1000</span> <span class="token punctuation">\</span>
  --transaction.fee.amount <span class="token number">2000</span>
</code></pre></div><p>where <code>&lt;AMOUNT-TO-TRANSFER&gt;</code> and <code>&lt;DESTINATION-ACCOUNT-ID&gt;</code> are replaced with
the amount of tokens to transfer and the id of the transfer's destination
account, respectively.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>For a more detailed explanation of the transaction flags that were set, see
<a href="/operators/stake-management.html#common-transaction-flags">Operator Docs' Stake Management Guide</a>.</p></div> <p>Next, unlock your Ledger device and verify the transaction's fields on your
device's screen.</p> <p>After you've confirmed the transaction's fields are correct, sign the
transaction on your Ledger device by double-pressing the <em>Sign transaction</em>
screen.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/oasislabs/docs/edit/master/src/src/hsm/ledger.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/operators/maintenance/adding-removing-nodes.html" class="prev">
        Adding or Removing Nodes
      </a></span> <span class="next"><a href="https://github.com/oasisprotocol/oasis-core/blob/master/docs/index.md" target="_blank" rel="noopener noreferrer">
        Oasis Core Developer Docs

        <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5d5db95c.js" defer></script><script src="/assets/js/2.7de60783.js" defer></script><script src="/assets/js/18.faa328af.js" defer></script>
  </body>
</html>
